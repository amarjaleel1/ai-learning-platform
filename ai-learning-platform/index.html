<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Learning Platform</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Prism.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-tomorrow.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="css/welcome.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/tutorial.css">
    <link rel="stylesheet" href="css/analytics.css">
    <link rel="stylesheet" href="css/loader.css">
    <link rel="stylesheet" href="css/code-editor.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/lessons.css">
    <!-- Add browser compatibility CSS -->
    <link rel="stylesheet" href="css/browser-compatibility.css">
</head>
<body>
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
    <header role="banner">
        <div class="logo">
            <i class="fas fa-brain" aria-hidden="true"></i>
            <h1>AI Learning Platform</h1>
        </div>
        <div class="user-info">
            <span id="username" aria-label="Current user">Guest</span>
            <div id="coin-display" aria-label="Coins earned">
                <i class="fas fa-coins" aria-hidden="true"></i>
                <span id="coins">0</span>
            </div>
        </div>
    </header>
    
    <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <ul>
            <li><a href="#welcome" data-nav="welcome" tabindex="0">Welcome</a></li>
            <li><a href="#lessons" data-nav="lessons" tabindex="0">Lessons</a></li>
            <li><a href="#dashboard" data-nav="dashboard" tabindex="0">Dashboard</a></li>
            <li><a href="#about" data-nav="about" tabindex="0">About</a></li>
        </ul>
    </nav>
    
    <div class="container">
        <div class="sidebar" role="navigation" aria-label="Lessons navigation">
            <h2><i class="fas fa-book-open" aria-hidden="true"></i> Lessons</h2>
            <ul id="lesson-list" role="menu">
                <!-- Lessons will be populated here -->
            </ul>
        </div>
        
        <div id="main-content" class="content" role="main">
            <div id="lesson-container" data-view="welcome">
                <h2 id="lesson-title">Welcome to AI Learning Platform</h2>
                <div id="lesson-content" aria-live="polite">
                    <div class="welcome-message">
                        <h2>Learn AI Concepts Interactively</h2>
                        <p>Select a lesson from the sidebar to get started!</p>
                        <p>This platform helps you learn AI concepts through interactive exercises. Complete tasks to earn coins and unlock more advanced lessons.</p>
                    </div>
                    <div class="welcome-features">
                        <div class="feature">
                            <i class="fas fa-code" aria-hidden="true"></i>
                            <h3>Write Code</h3>
                            <p>Practice implementing AI algorithms with guided exercises</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-chart-line" aria-hidden="true"></i>
                            <h3>Visualize Results</h3>
                            <p>See your algorithms in action with dynamic visualizations</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-coins" aria-hidden="true"></i>
                            <h3>Earn Rewards</h3>
                            <p>Collect coins by completing lessons to unlock more content</p>
                        </div>
                    </div>
                    <div class="cta-container">
                        <button id="start-first-lesson" class="cta-button">Start Your First Lesson</button>
                    </div>
                    <div id="recommendation-box" class="hidden"></div>
                </div>
            </div>
            
            <!-- The lessons view -->
            <div id="lessons-view" data-view="lessons" class="hidden">
                <!-- Will be populated by the lessons module -->
            </div>

            <!-- The dashboard view -->
            <div id="dashboard-container" data-view="dashboard" class="hidden">
                <!-- Will be populated by the dashboard module -->
            </div>
            
            <!-- The about view -->
            <div id="about-view" data-view="about" class="hidden">
                <h2>About AI Learning Platform</h2>
                <div class="about-content">
                    <p>The AI Learning Platform is an interactive educational tool designed to help you learn about artificial intelligence concepts through hands-on coding exercises and visualizations.</p>
                    
                    <h3>Our Mission</h3>
                    <p>Our mission is to make AI education accessible, interactive, and engaging for everyone, regardless of their background or prior experience.</p>
                    
                    <h3>Features</h3>
                    <ul>
                        <li><strong>Interactive Lessons</strong>: Learn by doing with our hands-on coding exercises</li>
                        <li><strong>Visualizations</strong>: See your algorithms in action with dynamic visualizations</li>
                        <li><strong>Progress Tracking</strong>: Track your progress and earn rewards as you learn</li>
                        <li><strong>Personalized Learning Path</strong>: Follow a customized path based on your interests and progress</li>
                    </ul>
                    
                    <h3>Contact</h3>
                    <p>If you have any questions or feedback, please contact us at <a href="mailto:contact@ailearningplatform.com">contact@ailearningplatform.com</a>.</p>
                </div>
            </div>
            
            <div id="code-container" class="hidden" aria-label="Code editor">
                <h3><i class="fas fa-code" aria-hidden="true"></i> Write your code:</h3>
                <textarea id="code-editor" spellcheck="false" aria-label="Code editor" tabindex="0"></textarea>
                <div class="button-group">
                    <button id="get-hint" aria-label="Get a hint for this exercise"><i class="far fa-lightbulb" aria-hidden="true"></i> Get Hint</button>
                    <button id="run-code" aria-label="Run your code"><i class="fas fa-play" aria-hidden="true"></i> Run</button>
                </div>
            </div>
            
            <div id="visualization-container" class="hidden" aria-label="Visualization area">
                <h3><i class="fas fa-chart-bar" aria-hidden="true"></i> Visualization:</h3>
                <canvas id="visualization-canvas" width="800" height="500" aria-label="Visualization canvas" role="img"></canvas>
                <div id="visualization-controls" role="toolbar" aria-label="Visualization controls"></div>
            </div>
        </div>
    </div>

    <footer role="contentinfo">
        <div class="footer-content">
            <p>&copy; 2023 AI Learning Platform</p>
            <div class="footer-links">
                <a href="#about" data-nav="about" aria-label="About this platform">About</a>
                <a href="#privacy" aria-label="Privacy policy">Privacy</a>
                <a href="#terms" aria-label="Terms of service">Terms</a>
                <a href="#" id="show-analytics-settings" aria-label="Data settings">Data Settings</a>
            </div>
        </div>
    </footer>

    <!-- Loading indicator - Updated to ensure visibility -->
    <div id="app-loader" class="app-loader">
        <div class="loader-spinner" aria-hidden="true"></div>
        <p role="status">Loading...</p>
    </div>

    <!-- Error message container -->
    <div id="app-error" class="app-error" style="display: none;">
        <div class="error-content">
            <i class="fas fa-exclamation-circle" aria-hidden="true"></i>
            <p id="error-message" role="alert"></p>
            <button id="error-retry">Retry</button>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/components/prism-javascript.min.js"></script>
    
    <!-- Utility scripts (load first) -->
    <script src="js/utils/config.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/api-client.js"></script>
    <script src="js/utils/event-bus.js"></script>
    
    <!-- Core functionality -->
    <script src="js/main.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/storage.js"></script>
    
    <!-- Lesson content -->
    <script src="lessons/lesson_data.js"></script>
    <script src="lessons/additional_lessons.js"></script>
    
    <!-- Feature modules -->
    <script src="js/lessons.js"></script>
    <script src="js/visualization.js"></script>
    <script src="js/code-editor.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/welcome.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/analytics.js"></script>
    <script src="js/feedback.js"></script>
    
    <!-- UI components -->
    <script src="js/ui/notification.js"></script>
    <script src="js/ui/modal.js"></script>
    <script src="js/ui/tooltip.js"></script>
    <script src="js/ui/theme-switcher.js"></script>
    <script src="js/ui/mobile-menu.js"></script>
    
    <!-- ES6 module system - Load this last -->
    <script type="module" src="js/module.js"></script>
</body>
</html>
